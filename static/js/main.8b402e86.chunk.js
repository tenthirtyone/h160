(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(59)},35:function(e,t,a){},38:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),c=a.n(s),o=(a(35),a(14)),l=a(29),i=a(10),u=a.n(i),p=a(13),d=a(1),h=a(2),m=a(4),f=a(3),E=a(5),v=a(11),b=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).getInputValue=function(){return a.input.value},a.handleKeyUp=function(e){13===e.keyCode&&(a.handleSearch(),a.input.value="")},a.handleSearch=function(){a.props.searchAddress(a.getInputValue())},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("input",{ref:function(t){return e.input=t},defaultValue:this.props.value,onKeyUp:this.handleKeyUp,placeholder:this.props.placeholderText})}}]),t}(n.Component),x=(a(38),function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:"Header"},r.a.createElement("div",{className:"container"},r.a.createElement("span",null,r.a.createElement(o.b,{to:"/"}," H160 ")),r.a.createElement(b,{searchAddress:this.props.searchAddress,placeholderText:"Enter a Bitcoin Address"})))}}]),t}(n.Component));a(47);function j(e){var t=e.spotPrice;return t?r.a.createElement("div",null,r.a.createElement("span",null,"BTC:"),r.a.createElement("span",{className:"spot-price"},"$",t)):null}var O=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{className:"container"},r.a.createElement(j,{spotPrice:this.props.spotPrice})))}}]),t}(n.Component),g=(a(48),function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("main",{className:"Home"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Hash160"),r.a.createElement("h4",null,"Bitcoin Address Explorer"),r.a.createElement(b,{searchAddress:this.props.searchAddress,placeholderText:"Enter a Bitcoin Address"})))}}]),t}(n.Component)),y=a(28),w=a.n(y),T=(a(54),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).state={qrSize:200},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.hasAddressData?r.a.createElement("div",{id:"AddressInfo",className:"row"},r.a.createElement("div",null,r.a.createElement(w.a,{size:this.state.qrSize,value:"".concat(this.props.address)}),","),r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Address:"),r.a.createElement("td",null,this.props.address)),r.a.createElement("tr",null,r.a.createElement("td",null,"Hash160:"),r.a.createElement("td",null,this.props.hash160)),r.a.createElement("tr",null,r.a.createElement("td",null,"Final Balance:"),r.a.createElement("td",null,this.props.final_balance)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Tx:"),r.a.createElement("td",null,this.props.n_tx)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Received:"),r.a.createElement("td",null,this.props.total_received)),r.a.createElement("tr",null,r.a.createElement("td",null,"Total Sent:"),r.a.createElement("td",null,this.props.total_sent)),r.a.createElement("tr",null,r.a.createElement("td",null,"USD Value:"),r.a.createElement("td",null,r.a.createElement(_,{final_balance:this.props.final_balance,spotPrice:this.props.spotPrice}))))))):null}}]),t}(n.Component));function _(e){var t=e.final_balance,a=e.spotPrice;return"$ ".concat(Math.round(t/Math.pow(10,8)*a*100)/100)}a(55);var k=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).toggleDisplay=function(){"hidden"===a.state.display?a.setState({display:""}):a.setState({display:"hidden"})},a.state={display:"hidden"},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.props.tx?r.a.createElement("div",{className:"tx-info item"},r.a.createElement("div",{onClick:this.toggleDisplay},r.a.createElement("div",{className:"tx-price"},r.a.createElement(A,{inputs:this.props.tx.inputs,spotPrice:this.props.spotPrice})),this.props.tx.hash||""),r.a.createElement("table",{className:this.state.display},r.a.createElement(S,{outputs:this.props.tx.out,spotPrice:this.props.spotPrice}))):null}}]),t}(n.Component);function S(e){return e.outputs.map(function(e){return r.a.createElement("tbody",{key:e.script},r.a.createElement("tr",null,r.a.createElement("td",null,"address:"),r.a.createElement("td",null,e.addr)),r.a.createElement("tr",null,r.a.createElement("td",null,"script:"),r.a.createElement("td",null,e.script)),r.a.createElement("tr",null,r.a.createElement("td",null,"BTC:"),r.a.createElement("td",null,e.value)))})}function A(e){var t=e.inputs,a=e.spotPrice,n=0;return t.forEach(function(e){n+=e.prev_out.value}),function(e,t){return"$ ".concat(Math.round(e/Math.pow(10,8)*t*100)/100)}(n,a)}a(56);var P=function(e){function t(){return Object(d.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return this.props.txs&&this.props.txs.length>0?r.a.createElement("div",{id:"TxList"},r.a.createElement("small",null,"Click a tx to view more info..."),this.props.txs.map(function(t){return r.a.createElement(k,{key:t.hash,tx:t,spotPrice:e.props.spotPrice})}),r.a.createElement(M,{hasMoreTx:this.props.hasMoreTx,getMoreTx:this.props.getMoreTx})):null}}]),t}(n.Component);function M(e){var t=e.hasMoreTx,a=e.getMoreTx;return t?r.a.createElement("div",{className:"row"},r.a.createElement("button",{className:"load-more",onClick:a},"Load More")):null}a(57);var N=function(e){function t(e){var a;return Object(d.a)(this,t),a=Object(m.a)(this,Object(f.a)(t).call(this,e)),e.getTxData(e.match.params.addr),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;window.onpopstate=function(){e.props.getTxData(e.props.match.params.addr)}}},{key:"render",value:function(){return r.a.createElement("main",{className:"Address"},r.a.createElement(D,{didError:this.props.error,address:this.props.match.params.addr}),r.a.createElement("div",{className:"container"},r.a.createElement(C,{pageIsLoaded:this.props.pageIsLoaded}),r.a.createElement(T,{hasAddressData:this.props.hasAddressData,address:this.props.match.params.addr,hash160:this.props.hash160,final_balance:this.props.final_balance,n_tx:this.props.n_tx,total_received:this.props.total_received,total_sent:this.props.total_sent,spotPrice:this.props.spotPrice}),r.a.createElement(P,{getMoreTx:this.props.getMoreTx,hasMoreTx:this.props.hasMoreTx,spotPrice:this.props.spotPrice,txs:this.props.txs})))}}]),t}(n.Component);function D(e){return e.didError?r.a.createElement("div",{className:"error"},"Error, API Fetch Failed."):null}function C(e){return e.pageIsLoaded?null:r.a.createElement("div",{className:"spinner-box"},r.a.createElement("div",{className:"spinner"}))}a(58);var I="https://blockchain.info/rawaddr/",B="https://api.coinbase.com/v2/prices/spot?currency=USD",L=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).getSpotPrice=Object(p.a)(u.a.mark(function e(){var t,n,r,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(B));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a.setState({spotPrice:null});case 12:if(!n.data||!n.data.amount){e.next=17;break}return r=n.data.amount,s=r.length-1-r.indexOf("."),e.next=17,a.setState({spotPrice:parseInt(r.replace(".",""),10)/Math.pow(10,s)});case 17:case"end":return e.stop()}},e,null,[[0,9]])})),a.searchAddress=function(){var e=Object(p.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.history.location!=="/address/".concat(t)&&(a.props.history.push("/address/".concat(t)),a.getTxData(t));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getTxData=function(){var e=Object(p.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({address:t,pageIsLoaded:!1,hasAddressData:!1,error:!1,offset:0,txs:[]});case 2:a.getTxsForAddress(),a.listenForTx();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getTxsForAddress=Object(p.a)(u.a.mark(function e(){var t,n,r,s,c=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:a.state.address,e.prev=1,s="".concat(t,"?cors=true&limit=").concat(a.state.pageSize,"&offset=").concat(a.state.offset),e.next=5,fetch("".concat(I).concat(s));case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",a.setState({address:"",pageIsLoaded:!0,hasAddressData:!1,error:!0,txs:[]}));case 14:a.state.txs&&(r.txs=a.state.txs.concat(r.txs)),a.setState(Object(l.a)({},r,{error:!1,pageIsLoaded:!0,hasAddressData:!0}));case 16:case"end":return e.stop()}},e,null,[[1,11]])})),a.getMoreTx=Object(p.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({offset:a.state.offset+a.state.pageSize});case 2:a.state.offset<=a.state.n_tx-a.state.pageSize&&(a.getTxsForAddress(),a.setState({pageIsLoaded:!1}));case 3:case"end":return e.stop()}},e)})),a.addTransaction=function(e){a.setState(function(t){var n=t.txs;return n.unshift(e),{txs:n,n_tx:a.state.n_tx+1}}),a.updateBalances(e)},a.state={address:null,hash160:null,final_balance:null,n_tx:null,total_received:null,total_sent:null,txs:[],pageSize:10,offset:0,pageIsLoaded:!0,hasAddressData:!1,spotPrice:null,error:!1,ws:null},a.getSpotPrice(),setInterval(function(){a.getSpotPrice()},6e4),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"updateBalances",value:function(e){var t=this;e.inputs.forEach(function(e){e.prev_out.addr===t.state.address&&t.setState({total_sent:t.state.total_sent+(e.value||0),final_balance:t.state.final_balance-(e.value||0)})}),e.out.forEach(function(e){e.addr===t.state.address&&t.setState({total_received:t.state.total_received+(e.value||0),final_balance:t.state.final_balance+(e.value||0)})})}},{key:"listenForTx",value:function(){var e=this;this.state.ws&&this.state.ws.close();var t=new WebSocket("wss://ws.blockchain.info/inv");t.onopen=function(){t.send('{"op":"ping"}'),t.send('{\n        "op":"addr_sub", \n        "addr":"'.concat(e.state.address,'"\n      }'))},t.onmessage=function(t){var a=t.data;(a=JSON.parse(a))&&a.x&&e.addTransaction(a.x),e.setState({offset:e.state.offset+1})},this.setState({ws:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(x,{searchAddress:this.searchAddress,address:this.state.address}),r.a.createElement(v.a,{exact:!0,path:0,render:function(t){return r.a.createElement(g,Object.assign({},t,{searchAddress:e.searchAddress}))}}),r.a.createElement(v.a,{path:"/address/:addr",render:function(t){return r.a.createElement(N,Object.assign({},t,e.state,{getTxData:e.getTxData,spotPrice:e.state.spotPrice,getMoreTx:e.getMoreTx,hasMoreTx:e.state.offset<e.state.n_tx-e.state.pageSize}))}}),r.a.createElement(O,{spotPrice:this.state.spotPrice}))}}]),t}(n.Component),F=Object(v.d)(L),z=function(){return r.a.createElement("div",null,r.a.createElement(o.a,null,r.a.createElement(F,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.8b402e86.chunk.js.map